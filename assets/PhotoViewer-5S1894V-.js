import{A as g,y as K,c as $e,R as a,_ as xe,a as F,u as be,b as ye,P as o,d as Fe,h as D,e as Ke,q as f,f as ve,F as Ue,t as Ve,T as We,S as pe,g as He,i as je,j as Be,k as Xe,l as qe,m as ze,n as C,C as he,o as Ge,p as Je}from"./index-DtG4geWC.js";import{u as Qe}from"./useTimeout-CRUf8Ghs.js";function Ye(r,i){const n=g(!0);K(()=>{if(n.current){n.current=!1;return}return r()},i)}const Ze=$e("carousel-caption");var en=["as","bsPrefix","children","className"],Ne=a.forwardRef(function(r,i){var n=r.as,l=n===void 0?"div":n,w=r.bsPrefix,T=r.children,v=r.className,N=xe(r,en),O=F(v,be(w,"carousel-item"));return a.createElement(l,ye({ref:i},N,{className:O}),T)});Ne.displayName="CarouselItem";function me(r,i){var n=0;return a.Children.map(r,function(l){return a.isValidElement(l)?i(l,n++):l})}function nn(r,i){var n=0;a.Children.forEach(r,function(l){a.isValidElement(l)&&i(l,n++)})}var rn=["as","bsPrefix","slide","fade","controls","indicators","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","className","children"],tn=40,an={bsPrefix:o.string,as:o.elementType,slide:o.bool,fade:o.bool,controls:o.bool,indicators:o.bool,activeIndex:o.number,onSelect:o.func,onSlide:o.func,onSlid:o.func,interval:o.number,keyboard:o.bool,pause:o.oneOf(["hover",!1]),wrap:o.bool,touch:o.bool,prevIcon:o.node,prevLabel:o.string,nextIcon:o.node,nextLabel:o.string},on={slide:!0,fade:!1,controls:!0,indicators:!0,defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:a.createElement("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:a.createElement("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function sn(r){if(!r||!r.style||!r.parentNode||!r.parentNode.style)return!1;var i=getComputedStyle(r);return i.display!=="none"&&i.visibility!=="hidden"&&getComputedStyle(r.parentNode).display!=="none"}function ln(r,i){var n=Fe(r,{activeIndex:"onSelect"}),l=n.as,w=l===void 0?"div":l,T=n.bsPrefix,v=n.slide,N=n.fade,O=n.controls,c=n.indicators,u=n.activeIndex,p=n.onSelect,P=n.onSlide,k=n.onSlid,R=n.interval,G=n.keyboard,U=n.onKeyDown,S=n.pause,V=n.onMouseOver,W=n.onMouseOut,L=n.wrap,J=n.touch,H=n.onTouchStart,j=n.onTouchMove,B=n.onTouchEnd,Se=n.prevIcon,Q=n.prevLabel,Ie=n.nextIcon,Y=n.nextLabel,Ee=n.className,X=n.children,Ce=xe(n,rn),h=be(T,"carousel"),I=g(null),Z=D("next"),ee=Z[0],ne=Z[1],re=D(!1),ge=re[0],_=re[1],te=D(!1),M=te[0],ae=te[1],oe=D(u||0),s=oe[0],we=oe[1];!M&&u!==s&&(I.current?ne(I.current):ne((u||0)>s?"next":"prev"),v&&ae(!0),we(u||0)),K(function(){I.current&&(I.current=null)});var m=0,ie;nn(X,function(e,t){++m,t===u&&(ie=e.props.interval)});var se=Ke(ie),E=f(function(e){if(!M){var t=s-1;if(t<0){if(!L)return;t=m-1}I.current="prev",p&&p(t,e)}},[M,s,p,L,m]),d=ve(function(e){if(!M){var t=s+1;if(t>=m){if(!L)return;t=0}I.current="next",p&&p(t,e)}}),q=g();Ue(i,function(){return{element:q.current,prev:E,next:d}});var le=ve(function(){!document.hidden&&sn(q.current)&&d()}),x=ee==="next"?"left":"right";Ye(function(){v||(P&&P(s,x),k&&k(s,x))},[s]);var Te=h+"-item-"+ee,Pe=h+"-item-"+x,ke=f(function(e){Ve(e),P&&P(s,x)},[P,s,x]),Re=f(function(){ae(!1),k&&k(s,x)},[k,s,x]),Le=f(function(e){if(G&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),E(e);return;case"ArrowRight":e.preventDefault(),d(e);return}U&&U(e)},[G,U,E,d]),Me=f(function(e){S==="hover"&&_(!0),V&&V(e)},[S,V]),Ae=f(function(e){_(!1),W&&W(e)},[W]),ce=g(0),$=g(0),ue=Qe(),De=f(function(e){ce.current=e.touches[0].clientX,$.current=0,S==="hover"&&_(!0),H&&H(e)},[S,H]),Oe=f(function(e){e.touches&&e.touches.length>1?$.current=0:$.current=e.touches[0].clientX-ce.current,j&&j(e)},[j]),_e=f(function(e){if(J){var t=$.current;Math.abs(t)>tn&&(t>0?E(e):d(e))}S==="hover"&&ue.set(function(){_(!1)},R||void 0),B&&B(e)},[J,S,E,d,ue,R,B]),de=R!=null&&!ge&&!M,z=g();K(function(){var e,t;if(de)return z.current=window.setInterval(document.visibilityState?le:d,(e=(t=se.current)!=null?t:R)!=null?e:void 0),function(){z.current!==null&&clearInterval(z.current)}},[de,d,se,R,le]);var fe=We(function(){return c&&Array.from({length:m},function(e,t){return function(b){p&&p(t,b)}})},[c,m,p]);return a.createElement(w,ye({ref:q},Ce,{onKeyDown:Le,onMouseOver:Me,onMouseOut:Ae,onTouchStart:De,onTouchMove:Oe,onTouchEnd:_e,className:F(Ee,h,v&&"slide",N&&h+"-fade")}),c&&a.createElement("ol",{className:h+"-indicators"},me(X,function(e,t){return a.createElement("li",{key:t,className:t===s?"active":void 0,onClick:fe?fe[t]:void 0})})),a.createElement("div",{className:h+"-inner"},me(X,function(e,t){var b=t===s;return v?a.createElement(He,{in:b,onEnter:b?ke:void 0,onEntered:b?Re:void 0,addEndListener:je},function(A){return a.cloneElement(e,{className:F(e.props.className,b&&A!=="entered"&&Te,(A==="entered"||A==="exiting")&&"active",(A==="entering"||A==="exiting")&&Pe)})}):a.cloneElement(e,{className:F(e.props.className,b&&"active")})})),O&&a.createElement(a.Fragment,null,(L||u!==0)&&a.createElement(pe,{className:h+"-control-prev",onClick:E},Se,Q&&a.createElement("span",{className:"sr-only"},Q)),(L||u!==m-1)&&a.createElement(pe,{className:h+"-control-next",onClick:d},Ie,Y&&a.createElement("span",{className:"sr-only"},Y))))}var y=a.forwardRef(ln);y.displayName="Carousel";y.propTypes=an;y.defaultProps=on;y.Caption=Ze;y.Item=Ne;const dn=()=>{const{userID:r,n:i}=Be(),l=Xe(c=>c.users).find(c=>c.userID===r).photos,[w,T]=D(Number(i)),v=qe(),N=ze();return K(()=>{const c=N.pathname.split("/"),u=Number(c.pop());T(u)},[N]),C(Je,{className:"bg-200",style:{position:"relative",top:"50px",height:"89vh"},children:[C(he,{md:9,className:"h-100",style:{backgroundColor:"black"},children:C(y,{className:"w-100 h-100",interval:null,indicators:!1,activeIndex:w,onSelect:(c,u)=>{v.push(`/fakebook-ainiro/photo/${r}/${c}`)},children:l.map((c,u)=>C(y.Item,{style:{width:"100%",height:"89vh"},children:C(Ge,{storagePath:`/${r}/${c.fileName}`,alt:"",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:"600px",height:"100%",objectFit:"contain"}})},u))})}),C(he,{})]})};export{dn as default};
